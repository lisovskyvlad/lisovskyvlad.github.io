---
layout: post
title: Установка Windows в Virtual Box
date: 2014-02-02 23:16:04 +0400
comments: true
categories:
- windows
- microsoft
- virtualbox
---

Этот пост в большей степени может пригодиться тем, кто в своей повседневной работе используют *nix операционные системы.
Бывает ли у вас так, что нужна какая-либо версия операционной системы Windows? Например, для запуска
Windows-only софта или тестирования вашего веб-приложения в IE?

В этой заметку я опишу простое и дешевое решение этой задачи.

<!-- more -->

Не знаю как у вас, а у меня в институте лабораторные работы по некоторых предметов можно
выполнить используя ПО, который работает только под Windows, как пример AllFusion ERwin, Sony Vegas, 3ds MAX и тому подобные.

Кроме макбука, у меня есть ещё старый PC ноут, купленный на 1-м курсе, на котором есть винда и убунта,
но он тяжелый и не удобно его брать с собой, если я еду сдавать что-либо.
Мне надоела такая ситуация и я решил найти решение чтобы заиметь Windows у себя на макбучке.

Решений два:

- Виртуализацию
- Поставить Windows как вторую систему:
  - в случае мака используют [Boot_Camp](https://ru.wikipedia.org/wiki/Boot_Camp),
  - в случае PC, можно просто поставить Windows как вторую и использовать GRUB.

Так как винда мне нужна не часто, чтобы засорять ей макбук и он у меня вполне мощный,
 чтобы держать несколько ос одновременно, я выбрал виртуализацию.

И начал я искать где взять готовый образ какой-либо версии Windows VirtualBox.
Нашел http://rutracker.org/forum/viewtopic.php?t=4485398, начал разбираться,
но что-то не задалось, да и каким-то непростым оказалось это решение, точно не быстрым .

Решение нашлось неожиданно. На веб-сайте http://modern.ie Microsoft раздаёт Windows с разными IE, чтобы
вы могли проверять свои сайте в этом браузере. Что меня очень порадовало, так это то, что есть сборки
под любую операционную систему (Windows, Linux, Mac OS) и под все основные
виртуализации (VMWare, Hyper-V, VirtualBox, Parallels).

Мне лучше всего подошла связка Mac OS + VirtualBox.
VirtualBox потому что я давно его использую через Vagrant и потому что он бесплатный.

### Инструкция, как легко получить Windows в виртуалке у себя в макбучке:

- Вводим в адресной строке http://loc.modern.ie/ru/virtualization-tools#downloads
- Выбираем VirtualBox (или любую другую виртуализацию)
- Появляется табличка, где можно найти подходящую для задачи пару Windows version + IE version, есть даже Windows XP + IE6 для тех, кто хочет понастальгивароть
- Жмём на "Grab them all with cURL", появится окошко, где будет указана команда curl для скачивания необходимых файлов.
Вот тут ребятам из Редмонда большое спасибо за такую фичу! Впрочем, она присутствует только для Mac OS,
для Linux такое подсказки нет почему-то.
- Общий размер скачиваемых файлов для 7-й и 8-й винды больше 4 GB.
-  Как только всё загрузилось, нужно сделать файл part1.sfx исполняемым и запустить его.
```
chmod +x ./part1.sfx
./part1.sfx
```
- Через пару минит вы получите готовый образ в формате ova
- Запускаем VirtualBox
- Нажимаем в верхнем меню Файл -> Импорт конфигураций, либо просто Command + I.
- Выбираем получившийся файл *.ova
- Жмём "Далее" несколько раз
- Готово! Можно запускать виртуальную машину!

На мой скромный взгляд, описанный выше способ прост.

Чтобы передавать файлы на гостувую винду нужно настроить "Гостевые папки":
- В списке виртуальных машин VirtualBox нажимаем правой кнопкой на машину
- В выпавшем списке жмём на 1-й пункт "Настроить"
- Выбираем меню "Общие папки"
- Выбираем папку
- Обязательно, нажмать на Ок ( у меня появляется странное белое окно)

Далее, при запуске машины, эта папка должна быть видна как сетевая.
Если машина уже запущена, то нужно выполнить команду:
net use x: \\vboxsvr\sharename
В этом способе я до конца не разобрался, по крайней мере на уже запущенной машине
подключить сетевую папку у меня не получилось, но всё описано в [документации](https://www.virtualbox.org/manual/ch04.html#sharedfolders).

Буду рад комментариям и если моё решение пригодится вам!
